<!-- üîπ Sidebar -->
<nav class="sidebar">

  <!-- üîπ Header -->
  <div class="sidebar-header">
    <div class="app-logo">
      <span class="logo-circle">NT</span>
      <div class="app-text">
        <h2>Netvora</h2>
        <small>Panel de control</small>
      </div>
    </div>
  </div>

  <!-- üîπ Body -->
  <div class="sidebar-body">
    <ul class="menu">

      <!-- ===== General ===== -->
      <li class="menu-section"><span>General</span></li>

      <li routerLinkActive="active" [routerLinkActiveOptions]="{ exact: true }">
        <a routerLink="/" matTooltip="Inicio">
          <i class="fas fa-house"></i>
          <span>Inicio</span>
          <span class="menu-pill">Hoy</span>
        </a>
      </li>

      <!-- ===== Categor√≠as ===== -->
      <li class="menu-section"><span>Categor√≠as</span></li>

      <li routerLinkActive="active">
        <a routerLink="/politica" matTooltip="Pol√≠tica">
          <i class="fas fa-landmark"></i>
          <span>Pol√≠tica</span>
        </a>
      </li>

      <li routerLinkActive="active">
        <a routerLink="/economia" matTooltip="Econom√≠a">
          <i class="fas fa-coins"></i>
          <span>Econom√≠a</span>
        </a>
      </li>

      <li routerLinkActive="active">
        <a routerLink="/seguridad" matTooltip="Seguridad">
          <i class="fas fa-shield-halved"></i>
          <span>Seguridad</span>
        </a>
      </li>

      <li routerLinkActive="active">
        <a routerLink="/deportes" matTooltip="Deportes">
          <i class="fas fa-futbol"></i>
          <span>Deportes</span>
        </a>
      </li>

      <li routerLinkActive="active">
        <a routerLink="/salud" matTooltip="Salud">
          <i class="fas fa-heart-pulse"></i>
          <span>Salud</span>
        </a>
      </li>

      <li routerLinkActive="active">
        <a routerLink="/social" matTooltip="Sociedad">
          <i class="fas fa-users"></i>
          <span>Sociedad</span>
        </a>
      </li>

      <li routerLinkActive="active">
        <a routerLink="/educacion" matTooltip="Educaci√≥n">
          <i class="fas fa-graduation-cap"></i>
          <span>Educaci√≥n</span>
        </a>
      </li>

      <li routerLinkActive="active">
        <a routerLink="/gestiones" matTooltip="Gestiones p√∫blicas">
          <i class="fas fa-building-columns"></i>
          <span>Gestiones p√∫blicas</span>
        </a>
      </li>

      <li routerLinkActive="active">
        <a routerLink="/otros" matTooltip="Otros temas">
          <i class="fas fa-layer-group"></i>
          <span>Otros temas</span>
        </a>
      </li>

      <li routerLinkActive="active">
        <a routerLink="/entidades" matTooltip="Entidades p√∫blicas">
          <i class="fas fa-layer-group"></i>
          <span>Entidades p√∫blicas</span>
        </a>
      </li>

      <li routerLinkActive="active">
        <a routerLink="/personas" matTooltip="Personajes p√∫blicos">
          <i class="fas fa-user-tie"></i>
          <span>Personajes p√∫blicos</span>
        </a>
      </li>

      <!-- ===== Herramientas ===== -->
      <li class="menu-section"><span>Herramientas</span></li>

      <li routerLinkActive="active">
        <a routerLink="/estadisticas" matTooltip="Estad√≠sticas">
          <i class="fas fa-chart-line"></i>
          <span>Estad√≠sticas</span>
        </a>
      </li>

      <!-- ‚úÖ Dropdown: Admin -->
      <li class="menu-dropdown" *ngIf="(authz.role$ | async) === 'admin'">
        <details>
          <summary class="dropdown-trigger">
            <i class="fas fa-user-gear"></i>
            <span>Administraci√≥n</span>
            <i class="fas fa-chevron-down chevron"></i>
          </summary>

          <ul class="submenu">
            <li routerLinkActive="active">
              <a routerLink="/administrador" matTooltip="Administrador">
                <i class="fas fa-user-shield"></i>
                <span>Administrador</span>
              </a>
            </li>

            <li routerLinkActive="active">
              <a routerLink="/catSelect" matTooltip="Modificar categor√≠as">
                <i class="fas fa-tags"></i>
                <span>Modificar categor√≠as</span>
              </a>
            </li>
          </ul>
        </details>
      </li>

    </ul>
  </div>

  <!-- üîπ Footer (TOP) -->
  <div class="sidebar-footer">

    <div class="user-card">
      <div class="user-row">
        <!-- Avatar con inicial -->
        <div class="avatar" [matTooltip]="(userEmail$ | async) || ''">
          {{ (userInitial$ | async) || 'U' }}
        </div>

        <div class="user-meta">
          <span class="user-name">{{ (userDisplayName$ | async) || 'Usuario' }}</span>
          
        </div>

        <span class="role-badge">
          {{ (authz.role$ | async) || 'rol' }}
        </span>
      </div>

      <!-- Acciones r√°pidas (opcionales) -->
      
    </div>

    <button mat-flat-button class="logout-btn" (click)="logout()">
      <i class="fas fa-right-from-bracket"></i>
      <span>Cerrar sesi√≥n</span>
    </button>

  </div>

</nav>
